<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
	<link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">

	<title>Emmanuel Michta</title>

	<!-- libs -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet" />
	<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

	<!-- VUE -->
	<script src="https://unpkg.com/vue@next"></script>

	<!-- MATHSJAX -->
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
	  tex2jax: { inlineMath: [["$","$"],["\\(","\\)"]] },
	  "HTML-CSS": {
		linebreaks: { automatic: true, width: "container" }
	  }
	  });
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

	<!-- custom style -->
	<link id="style_dynamic" rel="stylesheet" href="css/style.css" />
	<script>
		const ismobile = window.innerHeight > window.innerWidth;
		if (ismobile)
			document.getElementById("style_dynamic").href = "css/style_mobile.css";
		else document.getElementById("style_dynamic").href = "css/style.css";
	</script>
</head>

<body>
	<div id="app">
		<div id="side_menu">
			<div id="name_title">EMMANUEL<br />MICHTA</div>
			<div id="side_description">
				I am a <b>second year PhD student</b> in the probability group of the
				<b>University of British Columbia</b>. My supervisor is <b>Pr. Gordon Slade</b>.
			</div>
			<div id="category_selector">
				<div class="section_choice" @click="goto('contact_section')">
					Contact
				</div>
				<div class="section_choice" @click="goto('interests_section')">
					Research interests
				</div>
				<div class="section_choice" @click="goto('publications_section')">
					Publications
				</div>
				<div class="section_choice" @click="goto('background_section')">
					Background
				</div>
				<div class="section_choice" @click="goto('talks_section')">
					Invited talks
				</div>
			</div>
		</div>

		<section id="contact_section">
			<div class="section_title">Contact</div>
			<div id="contact_section_content">
				<div id="profile_pic_container">
					<img id="profile_pic" src="assets/pp.jpg" />
					<div class="legend">me (on the right)</div>
				</div>
				<div class="narration_style">
					<b>email :</b> michta{at}math.ubc.ca <br />
					<b>office :</b> AUDX133 <br />
					<b>academic address :</b> Department of Mathematics, University of British Columbia, 1984 Mathematics Rd, Vancouver, BC V6T 1Z2.
				</div>
				<!-- <div id="map" style="height: 100px; width: 100px;"></div> -->
			</div>
		</section>

		<section id="interests_section">
			<div class="section_title">Research interests</div>
			<div id="interests_section_content">
				<!-- 			<div id="percolation_animation"></div> -->
				<percolation></percolation>
				<div id="interests_section_content_text" class="narration_style">
					I am interested in models from statistical physics such as
					percolation, self-avoiding walks, spin systems and their scaling
					limits especially in high-dimensions.
				</div>
			</div>
		</section>

		<section id="publications_section">
			<div class="section_title">Publications</div>
			<div id="publications_container">
				<paper v-for="item in publications" :paper="item"></paper>
			</div>
		</section>

		<section id="background_section">
			<div class="section_title">Background</div>
			<div id="background_section_container">
				<div id="school_imgs">
					<a href="https://www.math.ubc.ca/home" target="_blank"> <img src="assets/ubc_logo.jpg"> </a>
					<!-- <img src="assets/ubc_logo.jpg" /> -->
					<a href="https://www.maths.cam.ac.uk/" target="_blank"> <img src="assets/university-of-cambridge-logo-3.png"> </a>
					<!-- <img src="assets/university-of-cambridge-logo-3.png" /> -->
					<a href="https://www.isae-supaero.fr/en/" target="_blank"> <img src="assets/isae_logo.png"> </a>
				</div>
				<div class="narration_style">
					Before coming to UBC I obtained master's degrees in maths from Cambridge (part III)
					and in aerospace engineering from ISAE-Supaero where I was advised
					by Pr. Roland Bauerschmidt and Pr. Florian Simatos respectively.
				</div>
			</div>
		</section>

		<section id="talks_section"> 
			<div class="section_title">Invited talks</div>
			<talks :talks="talks"></talks>
		</section>

		<footer>
			<span style="color: rgb(91, 91, 91)">Thanks to <a class="wordlink" style=" font-weight: 300; color: color(srgb 0.162 0.162 0.162);" href="https://soundcloud.com/achutta" target="_blank" rel="noopener noreferrer">Adrien Chuttarsing</a> for helping with the design of the webpage. </span><br />
			<span style="color: color(srgb 0.673 0.673 0.673); font-size: 8px;">app icon by</span>
			<a href="https://icons8.com" target="_blank" rel="noopener noreferrer" style="color: color(srgb 0.673 0.673 0.673); font-size: 8px; text-decoration: underline;"> icons8</a>
		</footer>
	</div>
</body>

<script>
	
	let vm = Vue.createApp({
		data() {
			/* for publications.description remember to past the non-mathjax text + to escape all "\" characters*/
			return {
				publications: [{
						title: "The scaling limit of the weakly self-avoiding walk on a high-dimensional torus",
						description: "We prove that the scaling limit of the weakly self-avoiding walk on a $d$-dimensional discrete torus is Brownian motion on the continuum torus if the length of the rescaled walk is $o(V^{1/2})$ where $V$ is the volume (number of points) of the torus and if $d>4$. We also prove that the diffusion constant of the resulting torus Brownian motion is the same as the diffusion constant of the scaling limit of the usual weakly self-avoiding walk on $\\mathbb{Z}^d$. This provides further manifestation of the fact that the weakly self-avoiding walk model on the torus does not feel that it is on the torus up until it reaches about $V^{1/2}$ steps which we believe is sharp.",
						in_collaboration_with: [],
						url: "https://arxiv.org/abs/2203.07695",
						published_in: "Preprint",
						arxiv_code: "arXiv:2203.07695",
						bibtex: `@misc{https://doi.org/10.48550/arxiv.2203.07695,
						  doi = {10.48550/ARXIV.2203.07695},
						  
						  url = {https://arxiv.org/abs/2203.07695},
						  
						  author = {Michta, Emmanuel},
						  
						  keywords = {Probability (math.PR), Mathematical Physics (math-ph), FOS: Mathematics, FOS: Mathematics, FOS: Physical sciences, FOS: Physical sciences},
						  
						  title = {The scaling limit of the weakly self-avoiding walk on a high-dimensional torus},
						  
						  publisher = {arXiv},
						  
						  year = {2022},
						  
						  copyright = {Creative Commons Attribution 4.0 International}
						}`
					},
					{
						title: "Weakly self-avoiding walk on a high-dimensional torus",
						description: "How long does a self-avoiding walk on a discrete $d$-dimensional torus have to be before it begins to behave differently from a self-avoiding walk on $\\mathbb{Z}^d$? We consider a version of this question for weakly self-avoiding walk on a torus in dimensions $d>4$. On $\\mathbb{Z}^d$ for $d>4$, the partition function for $n$-step weakly self-avoiding walk is known to be asymptotically purely exponential, of the form $A\\mu^n$, where $\\mu$ is the growth constant for weakly self-avoiding walk on $\\mathbb{Z}^d$. We prove the identical asymptotic behaviour $A\\mu^n$ on the torus (with the same $A$ and $\\mu$ as on $\\mathbb{Z}^d$) until $n$ reaches order $V^{1/2}$, where $V$ is the number of vertices in the torus. This shows that the walk must have length of order at least $V^{1/2}$ before it ``feels'' the torus in its leading asymptotics. Our results support the conjecture that the behaviour of the partition function does change once $n$ reaches $V^{1/2}$, and we relate this to a conjectural critical scaling window which separates the dilute phase $n \\ll V^{1/2}$ from the dense phase $n \\gg V^{1/2}$. To prove the conjecture and to establish the existence of the scaling window remains a challenging open problem. The proof uses a novel lace expansion analysis based on the \"plateau\" for the torus two-point function obtained in previous work.",
						in_collaboration_with: [{
							name: "G. Slade",
							url: "https://personal.math.ubc.ca/~slade/"
						}],
						url: "https://arxiv.org/abs/2107.14170",
						published_in: "Preprint",
						arxiv_code: "arXiv:2107.14170",
						bibtex: `@misc{https://doi.org/10.48550/arxiv.2107.14170,
						  doi = {10.48550/ARXIV.2107.14170},
						  
						  url = {https://arxiv.org/abs/2107.14170},
						  
						  author = {Michta, Emmanuel and Slade, Gordon},
						  
						  keywords = {Probability (math.PR), Mathematical Physics (math-ph), FOS: Mathematics, FOS: Mathematics, FOS: Physical sciences, FOS: Physical sciences, 60K35, 82B27, 82B41},
						  
						  title = {Weakly self-avoiding walk on a high-dimensional torus},
						  
						  publisher = {arXiv},
						  
						  year = {2021},
						  
						  copyright = {arXiv.org perpetual, non-exclusive license}
						}`
					},
					{
						title: "High-dimensional near-critical percolation and the torus plateau",
						description: 'We consider percolation on $\\mathbb{Z}^d$ and on the $d$-dimensional discrete torus, in dimensions $d \\ge 11$ for the nearest-neighbour model and in dimensions $d>6$ for spread-out models. For $\\mathbb{Z}^d$, we employ a wide range of techniques and previous results to prove that there exist positive constants $c$ and $C$ such that the slightly subcritical two-point function and one-arm probabilities satisfy \\[ \\mathbb{P}_{p_c-\\varepsilon}(0 \\leftrightarrow x) \\leq \\frac{C}{\\|x\\|^{d-2}} e^{-c\\varepsilon^{1/2} \\|x\\|} \\quad \\text{ and } \\quad \\frac{c}{r^{2}} e^{-C \\varepsilon^{1/2}r} \\leq \\mathbb{P}_{p_c-\\varepsilon}\\Bigl(0 \\leftrightarrow \\partial [-r,r]^d \\Bigr) \\leq \\frac{C}{r^2} e^{-c \\varepsilon^{1/2}r}. \\] Using this, we prove that throughout the critical window the torus two-point function has a "plateau," meaning that it decays for small $x$ as $\\|x\\|^{-(d-2)}$ but for large $x$ is essentially constant and of order $V^{-2/3}$ where $V$ is the volume of the torus. The plateau for the two-point function leads immediately to a proof of the torus triangle condition, which is known to have many implications for the critical behaviour on the torus, and also leads to a proof that the critical values on the torus and on $\\mathbb{Z}^d$ are separated by a multiple of $V^{-1/3}$. The torus triangle condition and the size of the separation of critical points have been proved previously, but our proofs are different and are direct consequences of the bound on the $\\mathbb{Z}^d$ two-point function. In particular, we use results derived from the lace expansion on $\\mathbb{Z}^d$, but in contrast to previous work on high-dimensional torus percolation we do not need or use a separate torus lace expansion.',
						in_collaboration_with: [{
								name: "T. Hutchcroft",
								url: "http://www.its.caltech.edu/~thutch/"
							},
							{
								name: "G. Slade",
								url: "https://personal.math.ubc.ca/~slade/"
							}
						],
						url: "https://arxiv.org/abs/2107.12971",
						published_in: "Preprint",
						arxiv_code: "arXiv:2107.12971",
						bibtex: `@misc{https://doi.org/10.48550/arxiv.2107.12971,
						  doi = {10.48550/ARXIV.2107.12971},
						  
						  url = {https://arxiv.org/abs/2107.12971},
						  
						  author = {Hutchcroft, Tom and Michta, Emmanuel and Slade, Gordon},
						  
						  keywords = {Probability (math.PR), Mathematical Physics (math-ph), FOS: Mathematics, FOS: Mathematics, FOS: Physical sciences, FOS: Physical sciences, 05C80, 60K35, 82B27, 82B43},
						  
						  title = {High-dimensional near-critical percolation and the torus plateau},
						  
						  publisher = {arXiv},
						  
						  year = {2021},
						  
						  copyright = {arXiv.org perpetual, non-exclusive license}
						}`
					},
					{
						title: "Asymptotic behaviour of the lattice Green function",
						description: "The lattice Green function, i.e., the resolvent of the discrete Laplace operator, is fundamental in probability theory and mathematical physics. We derive its long-distance behaviour via a detailed analysis of an integral representation involving modified Bessel functions. Our emphasis is on the decay of the massive lattice Green function in the vicinity of the massless (critical) case, and the recovery of Euclidean isotropy in the massless limit. This provides a prototype for the expected but unproven long-distance behaviour of near-critical two-point functions in statistical mechanical models such as percolation, the Ising model, and the self-avoiding walk above their upper critical dimensions.",
						in_collaboration_with: [{
							name: "G. Slade",
							url: "https://personal.math.ubc.ca/~slade/"
						}],
						url: "https://arxiv.org/abs/2101.04717",
						published_in: "Preprint",
						arxiv_code: "arXiv:2101.04717",
						bibtex: `@misc{https://doi.org/10.48550/arxiv.2101.04717,
						  doi = {10.48550/ARXIV.2101.04717},
						  
						  url = {https://arxiv.org/abs/2101.04717},
						  
						  author = {Michta, Emmanuel and Slade, Gordon},
						  
						  keywords = {Probability (math.PR), Mathematical Physics (math-ph), FOS: Mathematics, FOS: Mathematics, FOS: Physical sciences, FOS: Physical sciences, 33C10, 41A60, 60K35, 82B27},
						  
						  title = {Asymptotic behaviour of the lattice Green function},
						  
						  publisher = {arXiv},
						  
						  year = {2021},
						  
						  copyright = {arXiv.org perpetual, non-exclusive license}
						}`
					},
				],
				talks: [{
						subject: "High-dimensional near critical percolation and the torus plateau",
						event: "UBC Probability Seminar 2021",
						date: "2021-07-17",
						video_link: "https://ubc.zoom.us/rec/play/R2DgF4Sn1QlYRf7oSp2frNo4lHdF134XJT2KKhECYXMYyx36i5A6_0ecsibVkzBZDDUyTWYneZ7JbTqY._1__OQLRgso0qd2T?continueMode=true",
						mdp_video_link: "u.z3q4*6"
					},
					{
						subject: "The story of Torus",
						event: "Pitchfork Conference Center 2021",
						date: "2021-10-07",
						video_link: "www.google.com",
						mdp_video_link: ""
					},
					{
						subject: "Probability to be a rockstar",
						event: "Woodstock : The rebirth",
						date: "2022-06-03",
						video_link: "",
						mdp_video_link: ""
					},
				]
			};
		},
		methods: {
			goto(element_id) {
				var element = document.getElementById(element_id);
				var top = element.offsetTop;
				window.scrollTo({
					top: top,
					behavior: "smooth",
				});
			},
		},
		watch: {},
	});

	vm.component("paper", {
		props: ["paper"],
		data() {
			return {
				show_bibtex: false,
			};
		},
		template: `
		<div class="one_paper">
			<div class="arxiv_code">{{paper.arxiv_code}}</div>
			<div class="paper_title">{{paper.title}}</div>
	    <div class="published_in" :style="[this.show_bibtex ? {'display': 'none'} : {'display': 'block'}]">{{paper.published_in}}</div>
		<div class="bibtex_title" :style="[this.show_bibtex ? {'display': 'block'} : {'display': 'none'}]">Bibtex Citation :</div>
		<div class="paper_description" :style="[this.show_bibtex ? {'display': 'none'} : {'display': 'block'}]" v-html="paper.description" ></div>
		<div class="paper_bibtex" :style="[this.show_bibtex ? {'display': 'block'} : {'display': 'none'}]" >{{paper.bibtex}}</div>
	  
	  <div :style="[this.show_bibtex ? {'display': 'none'} : {'display': 'flex'}]" v-if="paper.in_collaboration_with != ''" class="paper_collaboration"><img class="collaboration_gif" src="assets/poignee-de-main.gif" /><span>Joint work with : <b><a v-for="(item, index) in paper.in_collaboration_with" class="wordlink" target="_blank" rel="noopener noreferrer" :key="index" :href="item.url">{{nameWithComma(index) + "\ "}}</a> </b></span></div>
	  
			<div class="paper_controls">
				<a :href="paper.url" target="_blank" rel="noopener noreferrer"><div class="paper_read_button">Read</div></a>
				<div class="paper_cite_button" @click="toggle_bibtex">{{this.show_bibtex ? 'X' : 'Cite'}}</div>
			</div>
			
		</div>`,
		methods: {
			nameWithComma(index) {
				if (index !== this.paper.in_collaboration_with.length - 1) {
					return `${this.paper.in_collaboration_with[index].name},`;
				} else {
					return this.paper.in_collaboration_with[index].name;
				}
			},
			toggle_bibtex(event) {
				this.show_bibtex = !this.show_bibtex
			}
		},
		mounted: function() {
			MathJax.Hub.Typeset();
		},
		watch: {},
	});

	vm.component("talks", {
		props: ["talks"],
		data() {
			return {};
		},
		template: `
		<div id="talk_list">
			<div class="talk_inter_title"><b>~~~ ALREADY DONE ~~~</b></div>
			<div id="passed_talks">
				<div v-for="item in passed_talks">
					<span class="talk_date" style="text-decoration: line-through;">{{item.date}}</span> - <a v-if="item.video_link != ''" class="wordlink" @mouseover="show_video_password" :href="item.video_link"><span><b><i>{{item.subject}}</i></b></span></a><span @mouseover="show_video_password" v-if="item.video_link == ''"><b><i>{{item.subject}}</i></b></span> <span class="video_password" > {{item.mdp_video_link != '' ? 'password â†’' : ''}} <b>{{item.mdp_video_link}}</b></span><span class="talk_place"> @ {{item.event}}</span>
				</div>
			</div>
			<div class="talk_inter_title"><b>~~~ TO GO ~~~</b></div>
			<div id="future_talks">
				<div v-for="item in future_talks">
					<a @mouseover="show_add_cal" @mouseleave="hide_add_cal($event,item.date)" :href="'https://calendar.google.com/calendar/u/0/r/eventedit?text='+item.subject.replaceAll(' ','+')+'&dates='+item.date.replaceAll('-','') + '/' + item.date_plus_one.replaceAll('-','')+'&details='+('A conference about ' + item.subject +' conducted by E. Michta at '+item.event+'.').replaceAll(' ','+')+'&location='+item.event.replaceAll(' ','+')"><span class="talk_date">{{item.date}}</span></a>
					 - <a v-if="item.video_link != ''" class="wordlink" :href="item.video_link"><span><b><i>{{item.subject}}</i></b></span></a><span v-if="item.video_link == ''"><b><i>{{item.subject}}</i></b></span> <span class="talk_place"> @ {{item.event}}</span><sup id="hour_decount" class="blink"> <b> day-{{item.day_to_go}}</b></sup>
				</div>
			</div>
		</div>`,
		methods: {
			show_add_cal: function(event){
				//console.log(event.currentTarget.querySelector(":scope .talk_date").innerText)
				event.currentTarget.querySelector(":scope .talk_date").innerText = 'ADD TO CALENDAR'
			},
			hide_add_cal: function(event, initial_text){
				//console.log(event.currentTarget.querySelector(":scope .talk_date").innerText)
				event.currentTarget.querySelector(":scope .talk_date").innerText = initial_text
			},
			show_video_password: function(event){
				//alert('ok')
				//console.log(event.currentTarget.parentNode)
				event.currentTarget.parentNode.querySelector(".video_password").style.display = 'inline'
			}

		},
		computed: {
			dated_talks: function() {
				
				sorted_talks = JSON.parse(JSON.stringify(this.talks))
				
				let today = new Date();
				let dd = String(today.getDate()).padStart(2, '0');
				let mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
				let yyyy = today.getFullYear();
				
				today = yyyy + '-' + mm + '-' + dd;
				
				sorted_talks.push(
					{
						subject: "NOW",
						event: "",
						date: today,
						video_link: "",
						mpd_video_link: ""
					},
				)
				
				sorted_talks.sort(function compare(a, b) {
				  var dateA = new Date(a.date);
				  var dateB = new Date(b.date);
				  return dateA - dateB;
				});
				
				return sorted_talks

			},
			passed_talks: function() {
				
				sorted_talks = JSON.parse(JSON.stringify(this.talks))
				
				let today = new Date();
				
				sorted_talks.sort(function compare(a, b) {
				  let dateA = new Date(a.date);
				  let dateB = new Date(b.date);
				  return dateA - dateB;
				});
				
				return sorted_talks.filter(function (el) {
				  return new Date(el.date) < today
				});
			},
			future_talks: function() {
				
				sorted_talks = JSON.parse(JSON.stringify(this.talks))
				
				let today = new Date();
				
				sorted_talks.sort(function compare(a, b) {
				  let dateA = new Date(a.date);
				  let dateB = new Date(b.date);
				  return dateA - dateB;
				});
				
				sorted_talks = sorted_talks.filter(function (el) {
				  return new Date(el.date) >= today
				});
				
				for (let t of sorted_talks) {
					t['day_to_go'] = Math.round((new Date(t.date)-today)/(1000*60*60*24));
					let day_plus_one = new Date(t.date)
					day_plus_one.setDate(day_plus_one.getDate() + 1)
					let dd = String(day_plus_one.getDate()).padStart(2, '0');
					let mm = String(day_plus_one.getMonth() + 1).padStart(2, '0'); //January is 0!
					let yyyy = day_plus_one.getFullYear();
					t['date_plus_one'] = yyyy + '-' + mm + '-' + dd;
				}
				
				return sorted_talks
			},
		},
		mounted: function() {
			//window.MathJax.typeset()
			MathJax.Hub.Typeset();
		},
		watch: {},
	});

	vm.component("percolation", {
		data() {
			return {
				probability: 0.5,
				refresh_frequency: 1000, //ms
				nb_squares: 30,
			};
		},
		template: `
		<div id="percolation_animation_container">
		<div id="percolation_animation"></div>
		<div id="percolation_settings" >
		<div class="one_parameter">
			<div>$p =$ </div><input type="number" max="1" min="0" step="0.05" v-model="probability"> 
		</div>
		<div class="one_parameter">
			<div>$n =$ </div><input type="number" max="100" min="2" step="5" v-model="nb_squares">
		</div>
		</div>
		</div>
		`,
		watch: {},
		mounted: function() {
			this.refresh_percolation();
			this.todo();
		},
		methods: {
			refresh_percolation: function() {
				const ismobile = window.innerHeight > window.innerWidth;
				let width;
				if (ismobile) width = window.innerWidth * 0.75;
				else width = Math.min(window.innerHeight, window.innerWidth) * 0.4;
				const height = width;
				//const nb_square = 30
				const stroke_width = 2;
				const square_size = (width - stroke_width * 2) / this.nb_squares;
				const stroke_linecap = "round"; // square, round, butt
				document.getElementById("percolation_animation").innerHTML =
					'<svg id="svgTest" class="svg" width="' +
					width +
					'" height="' +
					height +
					'"></svg>';
				// method to be executed;
				let svg_content = "";
				for (const x of Array(this.nb_squares).keys()) {
					for (const y of Array(this.nb_squares).keys()) {
						if (Math.random() < this.probability)
							svg_content +=
							'<line x1="' +
							String(stroke_width + square_size * x) +
							'" y1="' +
							String(stroke_width + square_size * y) +
							'" x2="' +
							String(stroke_width + square_size * (x + 1)) +
							'" y2="' +
							String(stroke_width + square_size * y) +
							'" stroke="black" stroke-width="' +
							String(stroke_width) +
							'" stroke-linecap="' +
							stroke_linecap +
							'" />';
						if (Math.random() < this.probability)
							svg_content +=
							'<line x1="' +
							String(stroke_width + square_size * x) +
							'" y1="' +
							String(stroke_width + square_size * y) +
							'" x2="' +
							String(stroke_width + square_size * x) +
							'" y2="' +
							String(stroke_width + square_size * (y + 1)) +
							'" stroke="black" stroke-width="' +
							String(stroke_width) +
							'" stroke-linecap="' +
							stroke_linecap +
							'" />';
					}
				}

				document.getElementById("svgTest").innerHTML = svg_content;
			},
			todo: function() {
				this.intervalid1 = setInterval(
					async function() {
							if (isInViewport(document.getElementById("svgTest"))) {
								this.refresh_percolation();
							}
						}.bind(this),
						this.refresh_frequency
				);
			},
		},
	});

	vm = vm.mount("#app");
</script>

<script>
	function isInViewport(element) {
		const rect = element.getBoundingClientRect();
		const element_height = element.clientHeight
		//console.log(rect.top, rect.bottom, window.innerHeight)
		return (
			rect.top >= -element_height &&
			rect.bottom <=
			(window.innerHeight || document.documentElement.clientHeight) + element_height
		);
	}

	let current_format = ''

	window.addEventListener("resize", function() {
		const ismobile = window.innerHeight > window.innerWidth;
		if (ismobile && current_format != 'mobile') {
			document.getElementById("style_dynamic").href = "css/style_mobile.css";
			current_format = 'mobile'
		} else if (!ismobile && current_format != 'pc') {
			document.getElementById("style_dynamic").href = "css/style.css";
			current_format = 'pc'
		}
	});

	document.addEventListener("DOMContentLoaded", async function(event) {
		MathJax.Hub.Typeset();
	});
</script>

</html>